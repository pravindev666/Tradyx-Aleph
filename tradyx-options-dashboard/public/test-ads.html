<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adsterra Ad Test - All 4 Ads</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #2a2a2a;
            border-radius: 8px;
            border: 2px solid #444;
        }
        .test-section h2 {
            margin-top: 0;
            color: #4CAF50;
        }
        .ad-container {
            border: 3px solid #ff0000;
            margin: 20px 0;
            padding: 10px;
            background: #fff;
            min-height: 100px;
            text-align: center;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .success {
            background: #4CAF50;
            color: white;
        }
        .warning {
            background: #ff9800;
            color: white;
        }
        .error {
            background: #f44336;
            color: white;
        }
        .info {
            background: #2196F3;
            color: white;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #45a049;
        }
        #results {
            margin-top: 20px;
            padding: 20px;
            background: #333;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>üîç Adsterra Ad Loading Test</h1>
    <p>This page tests all 4 ad keys to verify if Adsterra is serving ads or if there's a code issue.</p>
    
    <div class="info status">
        <strong>Instructions:</strong> 
        <ol>
            <li>Open browser console (F12) to see debug messages</li>
            <li>Check Network tab for script loading status</li>
            <li>Wait 5-10 seconds for ads to load</li>
            <li>Click "Check Status" button to verify</li>
        </ol>
    </div>

    <!-- Ad 1: 728x90 -->
    <div class="test-section">
        <h2>Ad 1: 728x90 (Banner)</h2>
        <div class="ad-container" id="ad1" style="min-height: 90px; width: 100%; max-width: 728px; margin: 0 auto;">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'b4903cf5635d652e019f9cf30ea1cd88',
                    'format' : 'iframe',
                    'height' : 90,
                    'width' : 728,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/b4903cf5635d652e019f9cf30ea1cd88/invoke.js"></script>
        </div>
        <div id="status1" class="status info">Checking...</div>
    </div>

    <!-- Ad 2: 468x60 -->
    <div class="test-section">
        <h2>Ad 2: 468x60 (Banner)</h2>
        <div class="ad-container" id="ad2" style="min-height: 60px; width: 100%; max-width: 468px; margin: 0 auto;">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'd8c93074244d311adc394f3a309c3118',
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/d8c93074244d311adc394f3a309c3118/invoke.js"></script>
        </div>
        <div id="status2" class="status info">Checking...</div>
    </div>

    <!-- Ad 3: 300x250 -->
    <div class="test-section">
        <h2>Ad 3: 300x250 (Rectangle)</h2>
        <div class="ad-container" id="ad3" style="min-height: 250px; width: 300px; margin: 0 auto;">
            <script type="text/javascript">
                atOptions = {
                    'key' : '2f370fd28cbdeb2108926fba77c70947',
                    'format' : 'iframe',
                    'height' : 250,
                    'width' : 300,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/2f370fd28cbdeb2108926fba77c70947/invoke.js"></script>
        </div>
        <div id="status3" class="status info">Checking...</div>
    </div>

    <!-- Ad 4: 320x50 -->
    <div class="test-section">
        <h2>Ad 4: 320x50 (Mobile Banner)</h2>
        <div class="ad-container" id="ad4" style="min-height: 50px; width: 320px; margin: 0 auto;">
            <script type="text/javascript">
                atOptions = {
                    'key' : '35bb5972176687c2571d4f6e436e1f71',
                    'format' : 'iframe',
                    'height' : 50,
                    'width' : 320,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/35bb5972176687c2571d4f6e436e1f71/invoke.js"></script>
        </div>
        <div id="status4" class="status info">Checking...</div>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <button onclick="checkAllAds()">üîç Check All Ads Status</button>
        <button onclick="reloadAds()">üîÑ Reload All Ads</button>
    </div>

    <div id="results">
        <h2>Test Results</h2>
        <div id="summary"></div>
    </div>

    <script>
        function checkAdStatus(adId, statusId, adKey) {
            const container = document.getElementById(adId);
            const statusDiv = document.getElementById(statusId);
            
            // Wait a bit for ad to load
            setTimeout(() => {
                const iframes = container.querySelectorAll('iframe');
                const scripts = container.querySelectorAll('script[src*="highperformanceformat"]');
                
                let status = '';
                let className = '';
                
                // Check if scripts loaded
                if (scripts.length === 0) {
                    status = '‚ùå ERROR: Scripts not loaded - Check Network tab';
                    className = 'error';
                } else {
                    // Check if iframes exist
                    if (iframes.length === 0) {
                        status = '‚ö†Ô∏è WARNING: Scripts loaded but no iframe created - Adsterra may not be serving ads';
                        className = 'warning';
                    } else {
                        // Check if iframe has content
                        const iframe = iframes[0];
                        if (iframe.src && iframe.src !== 'about:blank' && !iframe.src.includes('about:')) {
                            status = '‚úÖ SUCCESS: Ad loaded successfully!';
                            className = 'success';
                        } else {
                            status = '‚ö†Ô∏è WARNING: Iframe created but empty - Adsterra has no ads to serve';
                            className = 'warning';
                        }
                    }
                }
                
                statusDiv.textContent = status;
                statusDiv.className = 'status ' + className;
                
                // Log to console
                console.log(`Ad ${adId} (${adKey.substring(0, 8)}...): ${status}`);
                
                return { adId, status, className, iframes: iframes.length };
            }, 3000);
        }

        function checkAllAds() {
            console.log('üîç Checking all ads...');
            
            const ads = [
                { id: 'ad1', statusId: 'status1', key: 'b4903cf5635d652e019f9cf30ea1cd88', name: '728x90' },
                { id: 'ad2', statusId: 'status2', key: 'd8c93074244d311adc394f3a309c3118', name: '468x60' },
                { id: 'ad3', statusId: 'status3', key: '2f370fd28cbdeb2108926fba77c70947', name: '300x250' },
                { id: 'ad4', statusId: 'status4', key: '35bb5972176687c2571d4f6e436e1f71', name: '320x50' }
            ];
            
            ads.forEach(ad => {
                checkAdStatus(ad.id, ad.statusId, ad.key);
            });
            
            // Update summary after 5 seconds
            setTimeout(() => {
                updateSummary();
            }, 5000);
        }

        function updateSummary() {
            const summary = document.getElementById('summary');
            const ads = ['ad1', 'ad2', 'ad3', 'ad4'];
            const results = [];
            
            ads.forEach(adId => {
                const container = document.getElementById(adId);
                const iframes = container.querySelectorAll('iframe');
                const hasContent = Array.from(iframes).some(iframe => 
                    iframe.src && iframe.src !== 'about:blank' && !iframe.src.includes('about:')
                );
                
                results.push({
                    id: adId,
                    loaded: hasContent,
                    iframes: iframes.length
                });
            });
            
            const loadedCount = results.filter(r => r.loaded).length;
            const totalCount = results.length;
            
            let summaryHTML = `<h3>Summary: ${loadedCount}/${totalCount} ads loaded</h3>`;
            summaryHTML += '<ul>';
            
            results.forEach(result => {
                const status = result.loaded ? '‚úÖ Loaded' : '‚ö†Ô∏è No ad (Adsterra may not have inventory)';
                summaryHTML += `<li>${result.id}: ${status} (${result.iframes} iframe(s))</li>`;
            });
            
            summaryHTML += '</ul>';
            
            if (loadedCount === 0) {
                summaryHTML += '<div class="warning status"><strong>‚ö†Ô∏è No ads loaded:</strong> This could mean:<ul><li>Adsterra has no ads for your location/time</li><li>Ad keys not approved yet</li><li>New account (takes 24-48 hours)</li></ul>Check Adsterra dashboard for approval status.</div>';
            } else if (loadedCount < totalCount) {
                summaryHTML += '<div class="info status"><strong>‚ÑπÔ∏è Partial loading:</strong> Some ads loaded, others didn\'t. This is normal - Adsterra inventory varies by ad size and location.</div>';
            } else {
                summaryHTML += '<div class="success status"><strong>‚úÖ All ads loaded!</strong> Your code is working correctly.</div>';
            }
            
            summary.innerHTML = summaryHTML;
        }

        function reloadAds() {
            console.log('üîÑ Reloading all ads...');
            location.reload();
        }

        // Auto-check after page loads
        window.addEventListener('load', () => {
            console.log('üìä Page loaded, checking ads in 5 seconds...');
            setTimeout(checkAllAds, 5000);
        });

        // Initial status check
        setTimeout(checkAllAds, 2000);
    </script>
</body>
</html>

